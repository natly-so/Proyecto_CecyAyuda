<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ay√∫danos - Encuesta de Experiencia</title>
    <style>
        /* Reset y configuraci√≥n base */
        *{margin:0;padding:0;box-sizing:border-box}
        body{font-family:'Segoe UI',sans-serif;background:linear-gradient(135deg,#8B5CF6,#A855F7,#C084FC,#DDD6FE,#F3F4F6);min-height:100vh;display:flex;justify-content:center;align-items:flex-start;padding:20px}
        
        /* Contenedor principal con animaci√≥n */
        .container{background:white;border-radius:20px;box-shadow:0 20px 40px rgba(0,0,0,0.1);max-width:700px;width:100%;overflow:hidden;animation:fadeIn .8s ease-out}
        @keyframes fadeIn{from{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}
        
        /* Header con gradiente y efecto flotante */
        .header{background:linear-gradient(135deg,#ff6b9d,#c44569);color:white;text-align:center;padding:40px 30px;position:relative;overflow:hidden}
        .header::before{content:'';position:absolute;top:-50%;left:-50%;width:200%;height:200%;background:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><circle cx="50" cy="50" r="2" fill="rgba(255,255,255,0.1)"/></svg>') repeat;animation:float 20s infinite linear}
        @keyframes float{0%{transform:translate(-50%,-50%) rotate(0deg)}100%{transform:translate(-50%,-50%) rotate(360deg)}}
        .header h1{font-size:2.5em;margin-bottom:10px;position:relative;z-index:1}
        .header p{font-size:1.1em;opacity:.9;position:relative;z-index:1}
        
        /* Contenido del formulario */
        .form-content{padding:40px 30px}
        .question-group{margin-bottom:30px;padding:25px;border-radius:15px;background:linear-gradient(135deg,#ffeef8,#f3e7ff);border-left:5px solid #ff6b9d;transition:transform .3s ease,box-shadow .3s ease}
        .question-group:hover{transform:translateY(-2px);box-shadow:0 10px 25px rgba(255,107,157,0.15)}
        
        /* T√≠tulos de preguntas con iconos numerados */
        .question-title{font-size:1.2em;font-weight:600;color:#4a4a4a;margin-bottom:15px;display:flex;align-items:center}
        .question-icon{width:24px;height:24px;margin-right:10px;background:linear-gradient(135deg,#ff6b9d,#c44569);border-radius:50%;display:flex;align-items:center;justify-content:center;color:white;font-weight:bold;font-size:.8em}
        
        /* Opciones de radio y checkbox con efectos hover */
        .radio-group,.checkbox-group{display:flex;flex-direction:column;gap:12px}
        .radio-item,.checkbox-item{display:flex;align-items:center;padding:12px 15px;background:white;border-radius:10px;cursor:pointer;transition:all .3s ease;border:2px solid transparent}
        .radio-item:hover,.checkbox-item:hover{background:#fff0f8;border-color:#ff6b9d;transform:translateX(5px)}
        .radio-item input,.checkbox-item input{margin-right:12px;width:18px;height:18px;accent-color:#ff6b9d}
        
        /* √Åreas de texto con efectos de foco */
        .textarea-group textarea{width:100%;min-height:120px;padding:15px;border:2px solid #e0e0e0;border-radius:10px;font-family:inherit;font-size:1em;resize:vertical;transition:border-color .3s ease;background:white}
        .textarea-group textarea:focus{outline:none;border-color:#ff6b9d;box-shadow:0 0 10px rgba(255,107,157,0.2)}
        
        /* Sistema de calificaci√≥n por estrellas */
        .rating-group{display:flex;justify-content:center;gap:10px;margin-top:15px}
        .star{font-size:2em;color:#ddd;cursor:pointer;transition:all .3s ease}
        .star:hover,.star.active{color:#ff6b9d;transform:scale(1.1)}
        
        /* Bot√≥n de env√≠o con gradiente y efectos */
        .submit-btn{background:linear-gradient(135deg,#ff6b9d,#c44569);color:white;border:none;padding:18px 40px;border-radius:50px;font-size:1.1em;font-weight:600;cursor:pointer;transition:all .3s ease;display:block;margin:40px auto 0;position:relative;overflow:hidden}
        .submit-btn:hover{transform:translateY(-3px);box-shadow:0 15px 30px rgba(255,107,157,0.4)}
        .submit-btn:active{transform:translateY(-1px)}
        
        /* Nota del pie con gradiente */
        .footer-note{text-align:center;margin-top:30px;padding:20px;background:linear-gradient(135deg,#f8f0ff,#fff0f8);border-radius:15px;color:#666;font-style:italic}
        
        /* Responsive para m√≥viles */
        @media (max-width:768px){
            .container{margin:10px}
            .header{padding:30px 20px}
            .header h1{font-size:2em}
            .form-content{padding:30px 20px}
            .question-group{padding:20px}
        }
    </style>
</head>
<body>
    
    <div class="container">
        <!-- Header principal con efecto visual -->
        <div class="header">
            <h1>ü§ù Ay√∫danos</h1>
            <p>Tu experiencia nos ayuda a mejorar nuestro proyecto contra la violencia de g√©nero</p>
        </div>

        <div class="consulta-section" style="padding:20px 30px; text-align:center; background:linear-gradient(135deg,#f0f9ff,#e0f2fe); border-bottom:1px solid #e0e0e0;">
    <p style="color:#666; margin-bottom:15px;">¬øYa enviaste tu opini√≥n antes?</p>
    <button type="button" onclick="window.location.href='ver_opinion.html'" 
            style="background:linear-gradient(135deg,#4f46e5,#7c3aed); color:white; border:none; padding:12px 25px; border-radius:25px; cursor:pointer; font-size:1em; transition:all .3s ease;"
            onmouseover="this.style.transform='translateY(-2px)'; this.style.boxShadow='0 8px 20px rgba(79,70,229,0.3)'"
            onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='none'">
        üîç Ver Mi Opini√≥n Anterior
    </button>
</div>
        
        <form class="form-content" id="surveyForm" action="procesar.php" method="POST">
            <!-- Campo para el nombre (llave primaria) -->
            <div class="question-group">
                <div class="question-title"><div class="question-icon">üë§</div>Tu nombre completo</div>
                <div class="textarea-group">
                    <input type="text" name="nombre" id="nombre" placeholder="Escribe tu nombre completo..." required 
                           style="width:100%;padding:15px;border:2px solid #e0e0e0;border-radius:10px;font-family:inherit;font-size:1em;background:white;transition:border-color .3s ease;">
                </div>
            </div>

            <!-- 1. Satisfacci√≥n general con sistema de estrellas -->
            <div class="question-group">
                <div class="question-title"><div class="question-icon">1</div>¬øQu√© tan satisfecho/a est√°s con nuestro proyecto?</div>
                <div class="rating-group">
                    <span class="star" data-rating="1">‚≠ê</span><span class="star" data-rating="2">‚≠ê</span><span class="star" data-rating="3">‚≠ê</span><span class="star" data-rating="4">‚≠ê</span><span class="star" data-rating="5">‚≠ê</span>
                </div>
                <input type="hidden" name="preg_1" id="preg_1">
            </div>

            <!-- 2. Utilidad del proyecto -->
            <div class="question-group">
                <div class="question-title"><div class="question-icon">2</div>¬øTe ayud√≥ nuestro proyecto a sentirte m√°s informado/a?</div>
                <div class="radio-group">
                    <label class="radio-item"><input type="radio" name="preg_2" value="mucho"><span>S√≠, me ayud√≥ mucho</span></label>
                    <label class="radio-item"><input type="radio" name="preg_2" value="algo"><span>Me ayud√≥ algo</span></label>
                    <label class="radio-item"><input type="radio" name="preg_2" value="poco"><span>Me ayud√≥ poco</span></label>
                    <label class="radio-item"><input type="radio" name="preg_2" value="nada"><span>No me ayud√≥</span></label>
                </div>
            </div>

            <!-- 3. Funcionalidades m√°s √∫tiles -->
            <div class="question-group">
                <div class="question-title"><div class="question-icon">3</div>¬øCu√°les funcionalidades fueron m√°s √∫tiles?</div>
                <div class="checkbox-group">
                    <label class="checkbox-item"><input type="checkbox" name="preg_3[]" value="informacion"><span>Informaci√≥n sobre violencia</span></label>
                    <label class="checkbox-item"><input type="checkbox" name="preg_3[]" value="recursos"><span>Recursos de ayuda</span></label>
                    <label class="checkbox-item"><input type="checkbox" name="preg_3[]" value="testimonios"><span>Testimonios</span></label>
                    <label class="checkbox-item"><input type="checkbox" name="preg_3[]" value="denuncia"><span>Proceso de denuncia</span></label>
                </div>
            </div>

            <!-- 4. Facilidad de uso -->
            <div class="question-group">
                <div class="question-title"><div class="question-icon">4</div>¬øQu√© tan f√°cil fue usar nuestro proyecto?</div>
                <div class="radio-group">
                    <label class="radio-item"><input type="radio" name="preg_4" value="muy_facil"><span>Muy f√°cil</span></label>
                    <label class="radio-item"><input type="radio" name="preg_4" value="facil"><span>F√°cil</span></label>
                    <label class="radio-item"><input type="radio" name="preg_4" value="regular"><span>Regular</span></label>
                    <label class="radio-item"><input type="radio" name="preg_4" value="dificil"><span>Dif√≠cil</span></label>
                </div>
            </div>

            <!-- 5. Recomendaci√≥n -->
            <div class="question-group">
                <div class="question-title"><div class="question-icon">5</div>¬øRecomendar√≠as nuestro proyecto?</div>
                <div class="radio-group">
                    <label class="radio-item"><input type="radio" name="preg_5" value="definitivamente"><span>Definitivamente s√≠</span></label>
                    <label class="radio-item"><input type="radio" name="preg_5" value="probablemente"><span>Probablemente s√≠</span></label>
                    <label class="radio-item"><input type="radio" name="preg_5" value="tal_vez"><span>Tal vez</span></label>
                    <label class="radio-item"><input type="radio" name="preg_5" value="no"><span>No</span></label>
                </div>
            </div>

            <!-- 6. Tipo de informaci√≥n m√°s importante -->
            <div class="question-group">
                <div class="question-title"><div class="question-icon">6</div>¬øQu√© informaci√≥n fue m√°s importante?</div>
                <div class="checkbox-group">
                    <label class="checkbox-item"><input type="checkbox" name="preg_6[]" value="legal"><span>Informaci√≥n legal</span></label>
                    <label class="checkbox-item"><input type="checkbox" name="preg_6[]" value="emocional"><span>Apoyo emocional</span></label>
                    <label class="checkbox-item"><input type="checkbox" name="preg_6[]" value="contactos"><span>Contactos de ayuda</span></label>
                    <label class="checkbox-item"><input type="checkbox" name="preg_6[]" value="prevencion"><span>Prevenci√≥n</span></label>
                </div>
            </div>

            <!-- 7. Confianza y seguridad -->
            <div class="question-group">
                <div class="question-title"><div class="question-icon">7</div>¬øTe sentiste seguro/a al usar el proyecto?</div>
                <div class="radio-group">
                    <label class="radio-item"><input type="radio" name="preg_7" value="muy_seguro"><span>Muy seguro/a</span></label>
                    <label class="radio-item"><input type="radio" name="preg_7" value="seguro"><span>Seguro/a</span></label>
                    <label class="radio-item"><input type="radio" name="preg_7" value="neutral"><span>Neutral</span></label>
                    <label class="radio-item"><input type="radio" name="preg_7" value="inseguro"><span>Inseguro/a</span></label>
                </div>
            </div>

            <!-- 8. Impacto emocional -->
            <div class="question-group">
                <div class="question-title"><div class="question-icon">8</div>¬øC√≥mo te hizo sentir usar el proyecto?</div>
                <div class="checkbox-group">
                    <label class="checkbox-item"><input type="checkbox" name="preg_8[]" value="empoderado"><span>Empoderado/a</span></label>
                    <label class="checkbox-item"><input type="checkbox" name="preg_8[]" value="informado"><span>M√°s informado/a</span></label>
                    <label class="checkbox-item"><input type="checkbox" name="preg_8[]" value="apoyado"><span>Apoyado/a</span></label>
                    <label class="checkbox-item"><input type="checkbox" name="preg_8[]" value="preocupado"><span>Preocupado/a</span></label>
                </div>
            </div>

            <!-- 9. Comentarios de mejora -->
            <div class="question-group">
                <div class="question-title"><div class="question-icon">9</div>¬øQu√© mejorar√≠as del proyecto?</div>
                <div class="textarea-group">
                    <textarea name="preg_9" placeholder="Comparte tus ideas para mejorar..."></textarea>
                </div>
            </div>

            <!-- 10. Comentarios adicionales -->
            <div class="question-group">
                <div class="question-title"><div class="question-icon">10</div>¬øComentarios adicionales?</div>
                <div class="textarea-group">
                    <textarea name="preg_10" placeholder="Cualquier otro comentario que quieras compartir..."></textarea>
                </div>
            </div>

            <!-- Bot√≥n de env√≠o con efectos visuales -->
            <button type="submit" class="submit-btn">üíú Enviar Encuesta</button>

            <!-- Nota final inspiracional -->
            <div class="footer-note">
                <p>üåü Tu opini√≥n es muy valiosa para nosotros. Gracias por ayudarnos a crear un mundo m√°s seguro.</p>
            </div>
        </form>
    </div>

    <script>
        // Sistema de calificaci√≥n por estrellas - maneja clicks y hover effects
        const stars = document.querySelectorAll('.star');
        const satisfaccionInput = document.getElementById('preg_1');
        
        stars.forEach((star, index) => {
            // Click para seleccionar calificaci√≥n
            star.addEventListener('click', () => {
                const rating = index + 1;
                satisfaccionInput.value = rating;
                // Actualizar estrellas activas
                stars.forEach((s, i) => s.classList.toggle('active', i < rating));
            });
            
            // Hover para preview de calificaci√≥n
            star.addEventListener('mouseenter', () => {
                stars.forEach((s, i) => s.style.color = i <= index ? '#ff6b9d' : '#ddd');
            });
        });
        
        // Restaurar calificaci√≥n al salir del hover
        document.querySelector('.rating-group').addEventListener('mouseleave', () => {
            const currentRating = satisfaccionInput.value;
            stars.forEach((s, i) => s.style.color = i < currentRating ? '#ff6b9d' : '#ddd');
        });

        // Efecto de foco para el campo nombre
        document.getElementById('nombre').addEventListener('focus', function() {
            this.style.borderColor = '#ff6b9d';
            this.style.boxShadow = '0 0 10px rgba(255,107,157,0.2)';
        });
        
        document.getElementById('nombre').addEventListener('blur', function() {
            this.style.borderColor = '#e0e0e0';
            this.style.boxShadow = 'none';
        });

        // Manejo del env√≠o del formulario con validaci√≥n
        document.getElementById('surveyForm').addEventListener('submit', function(e) {
            // Validaci√≥n: verificar nombre
            const nombre = document.getElementById('nombre').value.trim();
            if (!nombre) {
                e.preventDefault();
                alert('Por favor, ingresa tu nombre.');
                return;
            }
            
            // Validaci√≥n: verificar que se haya calificado con estrellas
            if (!satisfaccionInput.value) {
                e.preventDefault();
                alert('Por favor, califica tu satisfacci√≥n general con el proyecto.');
                return;
            }
            
            // Si la validaci√≥n pasa, el formulario se enviar√° normalmente al servidor
        });

        // Animaciones de entrada progresiva para las preguntas
        const questionGroups = document.querySelectorAll('.question-group');
        const observer = new IntersectionObserver(entries => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.style.animation = 'fadeIn 0.6s ease-out';
                }
            });
        });
        
        // Aplicar observer a todas las preguntas
        questionGroups.forEach(group => observer.observe(group));
    </script>
</body>
</html>